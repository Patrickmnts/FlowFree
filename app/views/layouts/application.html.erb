<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7 ]> <html class="ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]>    <html class="ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html lang="en"> <!--<![endif]-->
  <head>
  	<meta charset="utf-8" />

  	<!-- Uncomment to make IE8 render like IE7 -->
  	<!-- <meta http-equiv="X-UA-Compatible" content="IE=7" /> -->

  	<!-- Set the viewport width to device width for mobile -->
  	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

  	<title><%= content_for?(:title) ? yield(:title) : "Untitled" %></title>

  	<%= stylesheet_link_tag    "application" %>
  	<%= javascript_include_tag "vendor/custom.modernizr" %>
    <%= csrf_meta_tags %>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>

    <script type="text/javascript">
      function initialize() {
        google.maps.visualRefresh = true;
        var map = new google.maps.Map(document.getElementById('googft-mapCanvas'), {
          center: new google.maps.LatLng(38.8282, -97.5795),
          zoom: 4,
          mapTypeId: google.maps.MapTypeId.HYBRID,
          scrollwheel: false
        });

        layer = new google.maps.FusionTablesLayer({
          map: map,
          heatmap: { enabled: false },
          query: {
            select: "col1",
            from: "1IUTYCJ2oJko4KSiNcFbcwPeEkUHkTyETih1s-WM",
            where: ""
          },
          options: {
            styleId: 2,
            templateId: 2
          }
        });
      }

      google.maps.event.addDomListener(window, 'load', initialize);
      google.maps.event.addDomListener(window, 'page:load', initialize);
      </script>
    <%= yield :head %>
  </head>

  <body>
    <div class="container">
      <div class="row header">
        <div class="large-4 columns text-left">
         <h1><%= link_to 'FlowFree', root_path %></h1>
        </div>
        <div class="large-8 columns text-right user-links">
          <% if user_signed_in? != true %>
            <%= link_to 'Sign in', sign_in_path, class: 'button small' %><br/>
            <%= link_to 'Register', sign_up_path, class: 'button small' %>
          <% end %>
          <% if user_signed_in? %>
            <%= link_to 'Sign out', destroy_user_session_path, method: :delete, class: 'button small' %><br/>
            <%= link_to 'My Profile', user_profile_path(current_user), class: 'button small' %>
          <% end %>
          <div style="clear:both"></div>
          </div>
        </div>

      <div class="row">
        <div class="large-12 columns">
          <% if notice %>
            <p class="alert alert-notice"><%= notice %></p>
          <% end %>
          <% if alert %>
            <p class="alert alert-error"><%= alert %></p>
          <% end %>
        </div>
      </div>

      <div class='YIELD'>
        <%= yield %>
      </div>

      <div class="row">
        <div class="large-12 columns text-right" id="footer">
          <p>Made with love @ Portland Code School</p>
        </div>
      </div>
    </div>

    <%= javascript_include_tag "application" %>
  </body>
</html>
